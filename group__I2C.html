<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>objc: I2C</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="custom.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea"><h1>objc</h1></div>
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">I2C<div class="ingroups"><a class="el" href="group__System.html">System Runtime</a> &raquo; <a class="el" href="group__Hardware.html">Hardware Interfaces</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Inter-Integrated Circuit (I2C) interface.  
<a href="#details">More...</a></p>
<div class="dynheader">
Collaboration diagram for I2C:</div>
<div class="dyncontent">
<center><table><tr><td><img src="group__I2C.png" border="0" alt="" usemap="#group____I2C"/>
<map name="group____I2C" id="group____I2C">
<area shape="rect" id="node2" href="group__Hardware.html" title="Managing hardware resources, peripherals, and low&#45;level operations. " alt="" coords="5,5,160,32"/>
</map>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structhw__i2c__t.html">hw_i2c_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">I2C adapter.  <a href="structhw__i2c__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gaea53482a8ae6c2808940757835f17302"><td class="memItemLeft" align="right" valign="top"><a id="gaea53482a8ae6c2808940757835f17302"></a>
typedef struct <a class="el" href="structhw__i2c__t.html">hw_i2c_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__I2C.html#gaea53482a8ae6c2808940757835f17302">hw_i2c_t</a></td></tr>
<tr class="memdesc:gaea53482a8ae6c2808940757835f17302"><td class="mdescLeft">&#160;</td><td class="mdescRight">I2C adapter. <br /></td></tr>
<tr class="separator:gaea53482a8ae6c2808940757835f17302"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga45a8b36dcdf50ff0baccc54e70927e56"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structhw__i2c__t.html">hw_i2c_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__I2C.html#ga45a8b36dcdf50ff0baccc54e70927e56">hw_i2c_init_default</a> (uint32_t baudrate)</td></tr>
<tr class="memdesc:ga45a8b36dcdf50ff0baccc54e70927e56"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize an I2C interface using default pins and adapter.  <a href="#ga45a8b36dcdf50ff0baccc54e70927e56">More...</a><br /></td></tr>
<tr class="separator:ga45a8b36dcdf50ff0baccc54e70927e56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga706f82af0043f4b36cc06efa1e450b5f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structhw__i2c__t.html">hw_i2c_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__I2C.html#ga706f82af0043f4b36cc06efa1e450b5f">hw_i2c_init</a> (uint8_t adapter, uint8_t sda, uint8_t scl, uint32_t baudrate)</td></tr>
<tr class="memdesc:ga706f82af0043f4b36cc06efa1e450b5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize an I2C interface with specific adapter and pins.  <a href="#ga706f82af0043f4b36cc06efa1e450b5f">More...</a><br /></td></tr>
<tr class="separator:ga706f82af0043f4b36cc06efa1e450b5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf551069998239cb4013124cf4810356b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__I2C.html#gaf551069998239cb4013124cf4810356b">hw_i2c_finalize</a> (<a class="el" href="structhw__i2c__t.html">hw_i2c_t</a> *i2c)</td></tr>
<tr class="memdesc:gaf551069998239cb4013124cf4810356b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finalize and release an I2C interface.  <a href="#gaf551069998239cb4013124cf4810356b">More...</a><br /></td></tr>
<tr class="separator:gaf551069998239cb4013124cf4810356b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab0643e64019f6690bc07eab226b0ee04"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__I2C.html#gab0643e64019f6690bc07eab226b0ee04">hw_i2c_count</a> (void)</td></tr>
<tr class="memdesc:gab0643e64019f6690bc07eab226b0ee04"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the total number of available I2C adapters.  <a href="#gab0643e64019f6690bc07eab226b0ee04">More...</a><br /></td></tr>
<tr class="separator:gab0643e64019f6690bc07eab226b0ee04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf591f6d0ae07f7358444cc58157bb3a1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__I2C.html#gaf591f6d0ae07f7358444cc58157bb3a1">hw_i2c_detect</a> (<a class="el" href="structhw__i2c__t.html">hw_i2c_t</a> *i2c, uint8_t addr)</td></tr>
<tr class="memdesc:gaf591f6d0ae07f7358444cc58157bb3a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Detect if an I2C device is present at the specified address.  <a href="#gaf591f6d0ae07f7358444cc58157bb3a1">More...</a><br /></td></tr>
<tr class="separator:gaf591f6d0ae07f7358444cc58157bb3a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5287dc8cc0893d147b727d080da0d629"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__I2C.html#ga5287dc8cc0893d147b727d080da0d629">hw_i2c_xfr</a> (<a class="el" href="structhw__i2c__t.html">hw_i2c_t</a> *i2c, uint8_t addr, void *data, size_t tx, size_t rx, uint32_t timeout_ms)</td></tr>
<tr class="memdesc:ga5287dc8cc0893d147b727d080da0d629"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform an I2C transfer operation (read, write, or combined).  <a href="#ga5287dc8cc0893d147b727d080da0d629">More...</a><br /></td></tr>
<tr class="separator:ga5287dc8cc0893d147b727d080da0d629"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9c167afad49d6fd3216a873ecd4754c2"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__I2C.html#ga9c167afad49d6fd3216a873ecd4754c2">hw_i2c_read</a> (<a class="el" href="structhw__i2c__t.html">hw_i2c_t</a> *i2c, uint8_t addr, uint8_t reg, void *data, size_t len, uint32_t timeout_ms)</td></tr>
<tr class="memdesc:ga9c167afad49d6fd3216a873ecd4754c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read data from a specific register of an I2C device.  <a href="#ga9c167afad49d6fd3216a873ecd4754c2">More...</a><br /></td></tr>
<tr class="separator:ga9c167afad49d6fd3216a873ecd4754c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9eab9855e0e724930af0a16b67e83186"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__I2C.html#ga9eab9855e0e724930af0a16b67e83186">hw_i2c_write</a> (<a class="el" href="structhw__i2c__t.html">hw_i2c_t</a> *i2c, uint8_t addr, uint8_t reg, const void *data, size_t len, uint32_t timeout_ms)</td></tr>
<tr class="memdesc:ga9eab9855e0e724930af0a16b67e83186"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write data to a specific register of an I2C device.  <a href="#ga9eab9855e0e724930af0a16b67e83186">More...</a><br /></td></tr>
<tr class="separator:ga9eab9855e0e724930af0a16b67e83186"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Inter-Integrated Circuit (I2C) interface. </p>
<p>This module provides functions to initialize I2C peripherals, and bi-directional data transfer with I2C devicesin master mode. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="gab0643e64019f6690bc07eab226b0ee04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab0643e64019f6690bc07eab226b0ee04">&#9670;&nbsp;</a></span>hw_i2c_count()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t hw_i2c_count </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the total number of available I2C adapters. </p>
<dl class="section return"><dt>Returns</dt><dd>The number of I2C adapters available on the hardware platform.</dd></dl>
<p>Returns the number of logical I2C adapters that can be used in the system. These are usually numbered from 0 to <a class="el" href="group__I2C.html#gab0643e64019f6690bc07eab226b0ee04" title="Get the total number of available I2C adapters. ">hw_i2c_count()</a> - 1. If zero is returned, it indicates that I2C functionality is not available. </p>

</div>
</div>
<a id="gaf591f6d0ae07f7358444cc58157bb3a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf591f6d0ae07f7358444cc58157bb3a1">&#9670;&nbsp;</a></span>hw_i2c_detect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool hw_i2c_detect </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhw__i2c__t.html">hw_i2c_t</a> *&#160;</td>
          <td class="paramname"><em>i2c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>addr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Detect if an I2C device is present at the specified address. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">i2c</td><td>Pointer to the I2C structure representing the interface. </td></tr>
    <tr><td class="paramname">addr</td><td>The 7-bit I2C slave device address (without R/W bit). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the device responds, false if it does not, or the address is invalid.</dd></dl>
<p>This function checks if an I2C device is present at the specified address by attempting to communicate with it. It returns true if the device responds to a basic read/write operation, false otherwise. </p>

</div>
</div>
<a id="gaf551069998239cb4013124cf4810356b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf551069998239cb4013124cf4810356b">&#9670;&nbsp;</a></span>hw_i2c_finalize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hw_i2c_finalize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhw__i2c__t.html">hw_i2c_t</a> *&#160;</td>
          <td class="paramname"><em>i2c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finalize and release an I2C interface. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">i2c</td><td>Pointer to the I2C structure to finalize.</td></tr>
  </table>
  </dd>
</dl>
<p>This function releases the I2C interface and frees any associated resources. After calling this function, the I2C interface should not be used for further operations. </p>

</div>
</div>
<a id="ga706f82af0043f4b36cc06efa1e450b5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga706f82af0043f4b36cc06efa1e450b5f">&#9670;&nbsp;</a></span>hw_i2c_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structhw__i2c__t.html">hw_i2c_t</a> hw_i2c_init </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>adapter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>sda</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>scl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>baudrate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize an I2C interface with specific adapter and pins. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">adapter</td><td>The I2C adapter number to use (0 to <a class="el" href="group__I2C.html#gab0643e64019f6690bc07eab226b0ee04" title="Get the total number of available I2C adapters. ">hw_i2c_count()</a>-1). </td></tr>
    <tr><td class="paramname">sda</td><td>The <a class="el" href="interfaceGPIO.html" title="The GPIO class. ">GPIO</a> pin number to use for I2C data (SDA). </td></tr>
    <tr><td class="paramname">scl</td><td>The <a class="el" href="interfaceGPIO.html" title="The GPIO class. ">GPIO</a> pin number to use for I2C clock (SCL). </td></tr>
    <tr><td class="paramname">baudrate</td><td>The desired I2C baud rate (e.g., 100000 for 100kHz). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An I2C structure representing the initialized interface.</dd></dl>
<p>This function initializes an I2C interface using the specified adapter and <a class="el" href="interfaceGPIO.html" title="The GPIO class. ">GPIO</a> pins for SDA and SCL lines. The adapter number should be valid and the specified pins should be capable of I2C functionality.</p>
<dl class="section note"><dt>Note</dt><dd>The specified pins must support I2C functionality. </dd>
<dd>
Pin assignments are platform-dependent. </dd></dl>

</div>
</div>
<a id="ga45a8b36dcdf50ff0baccc54e70927e56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga45a8b36dcdf50ff0baccc54e70927e56">&#9670;&nbsp;</a></span>hw_i2c_init_default()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structhw__i2c__t.html">hw_i2c_t</a> hw_i2c_init_default </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>baudrate</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize an I2C interface using default pins and adapter. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">baudrate</td><td>The desired I2C baud rate (e.g., 100000 for 100kHz). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An I2C structure representing the initialized interface.</dd></dl>
<p>This function initializes the default I2C interface using platform-specific default pins and adapter settings. This is the simplest way to get I2C functionality without needing to specify pin assignments. </p>

</div>
</div>
<a id="ga9c167afad49d6fd3216a873ecd4754c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9c167afad49d6fd3216a873ecd4754c2">&#9670;&nbsp;</a></span>hw_i2c_read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t hw_i2c_read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhw__i2c__t.html">hw_i2c_t</a> *&#160;</td>
          <td class="paramname"><em>i2c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>reg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>timeout_ms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read data from a specific register of an I2C device. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">i2c</td><td>Pointer to the I2C structure representing the interface. </td></tr>
    <tr><td class="paramname">addr</td><td>The 7-bit I2C slave device address (without R/W bit). </td></tr>
    <tr><td class="paramname">reg</td><td>The register address to read from. </td></tr>
    <tr><td class="paramname">data</td><td>Pointer to the buffer where read data will be stored. </td></tr>
    <tr><td class="paramname">len</td><td>Number of bytes to read from the register. </td></tr>
    <tr><td class="paramname">timeout_ms</td><td>Timeout value in milliseconds for the operation. Set to 0 for no timeout. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of bytes successfully read. Returns zero if the operation failed or timed out. </dd></dl>

</div>
</div>
<a id="ga9eab9855e0e724930af0a16b67e83186"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9eab9855e0e724930af0a16b67e83186">&#9670;&nbsp;</a></span>hw_i2c_write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t hw_i2c_write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhw__i2c__t.html">hw_i2c_t</a> *&#160;</td>
          <td class="paramname"><em>i2c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>reg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>timeout_ms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write data to a specific register of an I2C device. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">i2c</td><td>Pointer to the I2C structure representing the interface. </td></tr>
    <tr><td class="paramname">addr</td><td>The 7-bit I2C slave device address (without R/W bit). </td></tr>
    <tr><td class="paramname">reg</td><td>The register address to write to. </td></tr>
    <tr><td class="paramname">data</td><td>Pointer to the buffer containing data to write. </td></tr>
    <tr><td class="paramname">len</td><td>Number of bytes to write to the register. </td></tr>
    <tr><td class="paramname">timeout_ms</td><td>Timeout value in milliseconds for the operation. Set to 0 for no timeout. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of bytes successfully written. Returns zero if the operation failed or timed out. </dd></dl>

</div>
</div>
<a id="ga5287dc8cc0893d147b727d080da0d629"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5287dc8cc0893d147b727d080da0d629">&#9670;&nbsp;</a></span>hw_i2c_xfr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t hw_i2c_xfr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhw__i2c__t.html">hw_i2c_t</a> *&#160;</td>
          <td class="paramname"><em>i2c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>tx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>rx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>timeout_ms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Perform an I2C transfer operation (read, write, or combined). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">i2c</td><td>Pointer to the I2C structure representing the interface. </td></tr>
    <tr><td class="paramname">addr</td><td>The 7-bit I2C slave device address (without R/W bit). </td></tr>
    <tr><td class="paramname">data</td><td>Pointer to the data buffer for transmission and/or reception. </td></tr>
    <tr><td class="paramname">tx</td><td>Number of bytes to transmit from the data buffer. </td></tr>
    <tr><td class="paramname">rx</td><td>Number of bytes to receive into the data buffer (after tx bytes). </td></tr>
    <tr><td class="paramname">timeout_ms</td><td>Timeout value in milliseconds for each operation. Set to 0 for no timeout. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of bytes transferred. Returns zero if the transfer failed or timed out.</dd></dl>
<p>This function performs I2C transfer operations which can be:</p><ul>
<li>Write-only: tx &gt; 0, rx = 0 (transmit data to slave)</li>
<li>Read-only: tx = 0, rx &gt; 0 (receive data from slave)</li>
<li>Write-then-Read: tx &gt; 0, rx &gt; 0 (write command, then read response)</li>
</ul>
<p>For combined operations, the function first transmits 'tx' bytes from the data buffer, then receives 'rx' bytes into the same buffer starting at offset 'tx'. The total buffer size should be at least (tx + rx) bytes. </p>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<!--BEGIN GENERATE_TREEVIEW-->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
  </ul>
</div>
</body>
</html>
