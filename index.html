<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>objc: objc runtime</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="custom.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea"><h1>objc</h1></div>
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">objc runtime </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This is a minimal Objective C runtime written in C, designed to be portable across different platforms, including ARM and x86 architectures, mostly targeting embedded systems. It uses the "gcc" ABI for the moment, as that is the most portable across different platforms.</p>
<ul>
<li><a href="annotated.html">View the list of all classes</a></li>
<li><a href="files.html">View the list of all files</a></li>
<li><a href="globals_func.html">View the list of all functions</a></li>
</ul>
<h2>Requirements</h2>
<p>You will minimally need the following tools to build the runtime:</p>
<ul>
<li><code>make</code> and <code>cmake</code> - for the build system</li>
<li><code>clang</code> or <code>gcc</code> - for compiling the runtime (<code>clang</code> is not supported on Apple Silicon). If you want to cross-compile for ARM, you will need the ARM LLVM toolchain (see below).</li>
</ul>
<h3>ARM Toolchain</h3>
<p>For cross-compilation for embedded systems based on some ARM variant, get the ARM LLVM toolchain:\ <a href="https://github.com/ARM-software/LLVM-embedded-toolchain-for-Arm/releases">https://github.com/ARM-software/LLVM-embedded-toolchain-for-Arm/releases</a></p>
<p>Install this to the <code>/opt</code> directory.</p>
<h2>Building the runtime</h2>
<p>Download the source code from GitHub:</p>
<div class="fragment"><div class="line">git clone git@github.com:djthorpe/objc.git</div><div class="line">cd objc</div></div><!-- fragment --><p>The <code>TOOLCHAIN_PATH</code> environment variable should point to the directory where the toolchain is installed. For example,</p>
<div class="fragment"><div class="line"># Compile with GCC 15 for MacOS</div><div class="line">brew install gcc@15</div><div class="line">TOOLCHAIN_PATH=/opt/homebrew CC=gcc-15 make</div></div><!-- fragment --><p>Use the <code>make tests</code> target to run the unit .tests</p>
<p>For the RP2040 Pico board, you can use the <code>clang</code> compiler with the ARM toolchain. The <code>TARGET</code> environment variable should be set to the target architecture, such as <code>armv6m-none-eabi</code> for the RP2040 Pico board:</p>
<div class="fragment"><div class="line"># Compile for the RP2040 Pico board</div><div class="line">CC=clang TARGET=armv6m-none-eabi TOOLCHAIN_PATH=/opt/LLVM-ET-Arm-19.1.5-Darwin-universal make </div></div><!-- fragment --><h2>Current status</h2>
<ul>
<li>[X] Registering classes</li>
<li>[X] Simple message calling</li>
<li>[X] <code><a class="el" href="interfaceNXConstantString.html" title="A constant string class. ">NXConstantString</a></code></li>
<li>[X] Resolving super classes and meta classes for message lookup</li>
<li>[X] Calling methods in super classes - implement <code>[super init]</code> for example</li>
<li>[X] Calling methods in categories</li>
<li>[X] clang compatibility</li>
<li>[ ] Calling <code>+[initialise]</code> for categories</li>
<li>[ ] <code>respondsToSelector:</code> and <code>+[Class load]</code></li>
<li>[ ] More efficient method implementation lookup</li>
<li>[ ] Memory management - alloc, dealloc, memory arenas - require malloc in an <code><a class="el" href="interfaceNXZone.html" title="A class for managing memory zones. ">NXZone</a></code></li>
<li>[ ] Memory management - retain, release - reference counting for objects through <a class="el" href="interfaceNXZone.html" title="A class for managing memory zones. ">NXZone</a></li>
<li>[ ] String - <code><a class="el" href="interfaceNXString.html" title="A class for managing and manipulating string objects. ">NXString</a></code> - mutable strings</li>
<li>[ ] Number - <code>NXNumber</code> - immutable numbers</li>
<li>[ ] Array and Map - <code>NXArray</code> and <code>NXDictionary</code></li>
<li>[ ] Date and Time - <code>NXDate</code> - mutable date and time</li>
<li>[ ] <code><a class="el" href="interfaceNXApplication.html" title="The main application class that coordinates application-wide functionality. ">NXApplication</a></code> and <code>NXRunLoop</code></li>
<li>[ ] JSON - <code>NXCoder</code> - JSON / Binary marshalling and unmarshalling</li>
<li>[ ] Pico toolchain - integrate with Pico SDK</li>
<li>[ ] Protocols and <code>conformsToProtocol:</code></li>
<li>[ ] Threading &amp; <code>@synchronized</code> support</li>
<li>[ ] Exception handling?</li>
</ul>
<h2>References</h2>
<p>Here are some references that may be useful for understanding the Objective C runtime and its implementation:</p>
<ul>
<li><a href="https://github.com/mhjacobson/avr-objc">https://github.com/mhjacobson/avr-objc</a></li>
<li><a href="https://github.com/charlieMonroe/libobjc-kern">https://github.com/charlieMonroe/libobjc-kern</a></li>
<li><a href="https://github.com/gnustep/libobjc">https://github.com/gnustep/libobjc</a> </li>
</ul>
</div></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<!--BEGIN GENERATE_TREEVIEW-->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
  </ul>
</div>
</body>
</html>
